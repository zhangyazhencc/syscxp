<?xml version="1.0" encoding="UTF-8"?>
<requirementCategory xmlns="http://zstack.org/schema/zstack">
    <documentId>policy</documentId>
    <title>Policy</title>
    <scope>all Policy related functionalities. Policy is logic resource that is the first level resource which has multiple sub resources</scope>

    <req>
        <goal>create Policy</goal>
        <title>create</title>
        <api>
            <requestClass>org.zstack.header.Policy.APICreatePolicyMsg</requestClass>
            <responseClass>org.zstack.header.Policy.APICreatePolicyEvent</responseClass>
        </api>
    </req>

    <req>
        <goal>delete Policy</goal>
        <title>delete</title>
        <details>
            deleting a Policy will cause its all sub-resources to be deleted as well. it may fail if any sub-resources in the state that cannot be deleted
        </details>
        <api>
            <requestClass>org.zstack.account.header.identity.APIDeletePolicyMsg</requestClass>
            <responseClass>org.zstack.account.header.identity.APIDeletePolicyEvent</responseClass>
        </api>
    </req>

    <req>
        <goal>change Policy state</goal>
        <title>change state</title>
        <details>
            Policy has two states: Enabled and Disabled.
            Enabled means resources in this Policy is avaiable to manipulate where Disabled means no operation can be applied.
            currently, Policy state won't effect any API, they are reserved for future.
            state changing of Policy will cascade to its sub-resources: cluster and host. for example, disable a Policy will disable
            all clusters and hosts which belong to this Policy. However, if any sub-resources in the situation that its state cannot be
            changed, ancestral state changing of Policy will fail
        </details>
        <api>
            <requestClass>org.zstack.account.header.identity.APIUpdatePolicyMsg</requestClass>
            <responseClass>org.zstack.account.header.identity.APIUpdatePolicyEvent</responseClass>
        </api>
    </req>

</requirementCategory>
